<!doctype html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=600px, initial-scale=1, shrink-to-fit=no">
	<meta http-equiv="refresh" content="60">
	<title>Hüb Mihrab</title>
	<link href="https://www.jqueryscript.net/css/jquerysctipttop.css" rel="stylesheet" type="text/css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">
	<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Merriweather">
	<link rel="stylesheet" href="style.css">
	<link rel="stylesheet" href="style2.css">

	<style>
	</style>
</head>

<body>
<div class="container" id="prayy">
 	<div class="hijridate">
	 	<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
		<script src="jquery.hijri.date.js"></script>
		<script>
			$('.hijridate').hijriDate({gregorian: true, showWeekDay: false, showGregDate: false, separator: '&nbsp;|&nbsp;', weekDayLang: 'en', hijriLang: 'en', gregLang: 'en', correction: +0});
		</script>
	</div>	  	  
	<script type="text/javascript" src="PrayTimes.js"></script>

	<div class="prayer-times"></div>
	<br>
	<p align="center" id="prayer"></p>
	<div align="center" id="taple"></div>

	<script type="text/javascript">
	
		var currDate = new Date(); // today
		var times = prayTimes.getTimes(currDate, [53.6316, -113.3239]);
		var prayers = ['Midnight', 'Fajr', 'Sunrise', 'Dhuhr', 'Asr', 'Maghrib', 'Isha'];
		var currPrayer = prayers[0]
  		var nextPrayer = prayers[1];
  		var min = Number.POSITIVE_INFINITY;
  		prayTimes.adjust( {fajr: 16, dhuhr: '5 min', asr: 'Hanafi', isha: 15} );

		var htmlx = ' ';
		htmlx += '<table id="timetable"><tr><th colspan="2">'+ currDate.toLocaleDateString()+ '</th></tr>';

//List prayer times
		for(var prayer in prayers)	{
    			prayerTimeRaw = times[prayers[prayer].toLowerCase()].split(':');
   			hour = parseInt(prayerTimeRaw[0]);
    			mins = parseInt(prayerTimeRaw[1]);
  			prayerTime = new Date();
    			prayerTime.setHours(hour, mins, 0, 0);
    			prayerDiff = Math.floor(((currDate - prayerTime)/1000)/60);
    
    			if ((prayerDiff >= 0) && (prayerDiff <= min)) {
        			min = prayerDiff;
       				currPrayer = prayers[prayer];
        			nextPrayer = prayers[(prayer + 1) % 7];
    			}
 			htmlx += '<tr><td>' + prayers[prayer] + '</td>';
			htmlx += '<td>'+ times[prayers[prayer].toLowerCase()]+ '</td></tr>';
  		}
		htmlx += '</table>';

		if (currPrayer == 'Maghrib')  {
			nextp = 'Isha';
			document.getElementById('prayy').className = 'Maghrib';
		} else  if (currPrayer == 'Isha')  {
			nextp = 'Midnight';
			document.getElementById('prayy').className = 'Isha';
		} else  if (currPrayer == 'Midnight')  {
			nextp = 'Fajr';
        		document.getElementById('prayy').className = 'midnight';
		} else  if (currPrayer == 'Fajr')  {
			nextp = 'Sunrise';
        		document.getElementById('prayy').className = 'fajr';
		} else  if (currPrayer == 'Sunrise')  {
			nextp = 'Dhuhr';
			document.getElementById('prayy').className = 'Sunrise'; 
		} else  if (currPrayer == 'Dhuhr')  {
			nextp = 'Asr';
			document.getElementById('prayy').className = 'Dhuhr'; 
		} else  if (currPrayer == 'Asr')  {
			nextp = 'Maghrib';
			document.getElementById('prayy').className = 'asr';
		}
	
		document.getElementById('prayer').innerHTML += '<b>﷽</b></br><strong>' + currPrayer + '</strong>';
		document.getElementById('prayer').innerHTML += '<div class="prayertimes">' + currPrayer + ' ' + times[currPrayer.toLowerCase()] + ' ' + nextp + ' ' + times[nextp.toLowerCase()] +  '</div>';	
 	
	document.getElementById('taple').innerHTML = htmlx;
		  
  	</script>
    </div>

<h1 id="date-title">
  <!-- Will show the selected date -->
</h1>
	
<!-- The moon -->
<div class="sphere">
  <div class="light hemisphere"></div>
  <div class="dark hemisphere"></div>
  <div class="divider"></div>
</div>

	<!-- The date input -->
<input type="date">

<script type="text/javascript" src="moon.js"></script>
  
 <div class="scene" style="--hue-1: 139; --hue-2: 128; --hue-3: 148; --alpha-1: 0.9223026009656601; --alpha-2: 0.9336880843957871; --alpha-3: 0.25105622567766095">
  <div class="star" style="--size: 0.17557089890162425; --x: 23.527674843910674; --y: 52.490027813072835; --duration: 5; --delay: 5;"></div>
  <div class="star" style="--size: 1.474702529723106; --x: 64.62421664982263; --y: 16.41947271919799; --duration: 6; --delay: 6;"></div>
  <div class="star" style="--size: 0.800396785375483; --x: 12.088121984104427; --y: 0.363844280805381; --duration: 10; --delay: 4;"></div>
  <div class="star" style="--size: 1.2236629631651326; --x: 84.57976914237138; --y: 31.09282309852852; --duration: 6; --delay: 6;"></div>
  <div class="star" style="--size: 0.0006947703621560386; --x: 9.718433264827532; --y: 28.36121695237668; --duration: 6; --delay: 8;"></div>
  <div class="star" style="--size: 0.3673996457888151; --x: 90.67549068936643; --y: 31.75767168490036; --duration: 7; --delay: 6;"></div>
  <div class="star" style="--size: 0.4155223464694977; --x: 40.37591352209737; --y: 72.60823154715214; --duration: 9; --delay: 5;"></div>
  <div class="star" style="--size: 1.2839113047520132; --x: 0.957650762376816; --y: 9.053012031660002; --duration: 5; --delay: 4;"></div>
  <div class="star" style="--size: 1.3245393197341184; --x: 36.58162244056224; --y: 45.411521216055874; --duration: 7; --delay: 6;"></div>
  <div class="star" style="--size: 1.646926378464661; --x: 56.54916857202119; --y: 80.28259945791365; --duration: 6; --delay: 7;"></div>
  <div class="star" style="--size: 1.225812277959951; --x: 38.06766811755375; --y: 90.93704323160145; --duration: 6; --delay: 5;"></div>
  <div class="star" style="--size: 1.8845869364030325; --x: 28.66932183544899; --y: 29.272406165219444; --duration: 6; --delay: 6;"></div>
  <div class="star" style="--size: 0.18354354388143435; --x: 90.36100669699263; --y: 50.57855180202135; --duration: 10; --delay: 4;"></div>
  <div class="star" style="--size: 0.9795571770719005; --x: 15.64224182545777; --y: 33.606755890969794; --duration: 8; --delay: 4;"></div>
  <div class="star" style="--size: 1.5601568867184867; --x: 14.149210000007173; --y: 76.10474980312496; --duration: 5; --delay: 6;"></div>
  <div class="star" style="--size: 1.3115608453073522; --x: 51.06639161196811; --y: 38.664391992083644; --duration: 8; --delay: 10;"></div>
  <div class="star" style="--size: 1.0391833529022536; --x: 75.04275600457484; --y: 47.94483481145042; --duration: 10; --delay: 10;"></div>
  <div class="star" style="--size: 1.4806889376263523; --x: 49.363019280235164; --y: 52.859917494717614; --duration: 5; --delay: 5;"></div>
  <div class="star" style="--size: 0.608856451423446; --x: 91.10031043046271; --y: 44.703255158781175; --duration: 10; --delay: 10;"></div>
  <div class="star" style="--size: 1.373801827620965; --x: 23.89327766132294; --y: 74.62874865140412; --duration: 5; --delay: 9;"></div>
  <div class="hill"></div>
  <div class="moon"></div>
  <div class="lights">
    <div class="light" style="--duration: 11; --delay: 7; --x: 2; --y: 2; --scale: 0.03030834775874467"></div>
    <div class="light" style="--duration: 5; --delay: 5; --x: 4; --y: 0; --scale: 0.016780943453352414"></div>
    <div class="light" style="--duration: 9; --delay: 9; --x: 3; --y: 10; --scale: 0.037643948002363814"></div>
    <div class="light" style="--duration: 10; --delay: 5; --x: 1; --y: 0; --scale: 0.054103908038582095"></div>
    <div class="light" style="--duration: 9; --delay: 4; --x: 5; --y: 10; --scale: 0.018905833348352007"></div>
    <div class="light" style="--duration: 8; --delay: 6; --x: 3; --y: 9; --scale: 0.009601502793310956"></div>
    <div class="light" style="--duration: 15; --delay: 4; --x: 4; --y: 0; --scale: 0.02844762786631081"></div>
    <div class="light" style="--duration: 6; --delay: 6; --x: 0; --y: 10; --scale: 0.08828001097006773"></div>
    <div class="light" style="--duration: 15; --delay: 9; --x: 3; --y: 3; --scale: 0.09172096521751502"></div>
    <div class="light" style="--duration: 7; --delay: 9; --x: 1; --y: 1; --scale: 0.07996948583551733"></div>
    <div class="light" style="--duration: 10; --delay: 5; --x: 5; --y: 2; --scale: 0.05196148671725385"></div>
    <div class="light" style="--duration: 12; --delay: 6; --x: 3; --y: 7; --scale: 0.010570302501670303"></div>
    <div class="light" style="--duration: 9; --delay: 8; --x: 1; --y: 0; --scale: 0.04558314280347857"></div>
    <div class="light" style="--duration: 10; --delay: 10; --x: 0; --y: 7; --scale: 0.022396499852027206"></div>
    <div class="light" style="--duration: 9; --delay: 9; --x: 1; --y: 4; --scale: 0.05068795211111896"></div>
    <div class="light" style="--duration: 10; --delay: 6; --x: 2; --y: 10; --scale: 0.07102301247808093"></div>
    <div class="light" style="--duration: 15; --delay: 6; --x: 1; --y: 4; --scale: 0.02777331221997035"></div>
    <div class="light" style="--duration: 15; --delay: 10; --x: 0; --y: 5; --scale: 0.01361734490812223"></div>
    <div class="light" style="--duration: 10; --delay: 4; --x: 3; --y: 3; --scale: 0.08311328951645228"></div>
    <div class="light" style="--duration: 12; --delay: 9; --x: 1; --y: 10; --scale: 0.01923582528862986"></div>
    <div class="light" style="--duration: 6; --delay: 9; --x: 4; --y: 9; --scale: 0.036596218246946546"></div>
    <div class="light" style="--duration: 11; --delay: 9; --x: 0; --y: 3; --scale: 0.05672287704551911"></div>
    <div class="light" style="--duration: 7; --delay: 4; --x: 3; --y: 0; --scale: 0.003748460479614857"></div>
    <div class="light" style="--duration: 15; --delay: 10; --x: 2; --y: 8; --scale: 0.053154829115207435"></div>
    <div class="light" style="--duration: 6; --delay: 10; --x: 2; --y: 2; --scale: 0.05318628061063067"></div>
    <div class="light" style="--duration: 9; --delay: 10; --x: 4; --y: 8; --scale: 0.038013697894145236"></div>
    <div class="light" style="--duration: 12; --delay: 7; --x: 1; --y: 8; --scale: 0.09675976103451527"></div>
    <div class="light" style="--duration: 8; --delay: 6; --x: 5; --y: 7; --scale: 0.010008829354763549"></div>
    <div class="light" style="--duration: 7; --delay: 5; --x: 0; --y: 8; --scale: 0.07035409670241592"></div>
    <div class="light" style="--duration: 13; --delay: 7; --x: 2; --y: 7; --scale: 0.06429101087056299"></div>
  </div>
</div>
	
</body>
</html>
